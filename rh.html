<!DOCTYPE html>
<html>
<body>
<h2>Painel RH</h2>
<div id="lista"></div>

<script src="assets/js/data.js"></script>
<script>
function carregar() {
  const faltas = getFaltas();

  lista.innerHTML = faltas.map(f => `
    <p>
      <strong>${f.nome}</strong><br>
      ${f.inicio} â†’ ${f.fim}<br>
      Motivo: ${f.motivo}<br>
      Status: ${f.status}<br>
      <button onclick="aprovar(${f.id})">Aprovar</button>
      <button onclick="rejeitar(${f.id})">Rejeitar</button>
    </p>
    <hr>
  `).join("");
}

function aprovar(id) {
  const faltas = getFaltas().map(f =>
    f.id === id ? { ...f, status: "Aprovado" } : f
  );
  saveFaltas(faltas);
  carregar();
}

function rejeitar(id) {
  const faltas = getFaltas().map(f =>
    f.id === id ? { ...f, status: "Rejeitado" } : f
  );
  saveFaltas(faltas);
  carregar();
}

carregar();
</script>
</body>
</html>
