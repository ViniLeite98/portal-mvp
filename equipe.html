<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8" />
  <title>Equipe â€¢ Portal MVP</title>
  <link rel="stylesheet" href="styles.css" />
  <style>
    .card {
      background:#fff;
      border:1px solid #e7e7e7;
      border-radius:18px;
      padding:20px;
      margin-bottom:20px;
    }
    .header {
      display:flex;
      justify-content:space-between;
      align-items:center;
      gap:20px;
    }
    .sub {
      color:#666;
      font-size:13px;
      margin-top:4px;
    }
    table {
      width:100%;
      border-collapse:collapse;
      margin-top:10px;
    }
    th {
      text-align:left;
      font-size:13px;
      color:#111;
      border-bottom:1px solid #e7e7e7;
      padding-bottom:8px;
    }
    td {
      padding:12px 4px;
      border-bottom:1px solid #f0f0f0;
      font-size:14px;
    }
    .actions button {
      background:none;
      border:none;
      cursor:pointer;
      font-size:16px;
      margin-right:6px;
    }
    .btn {
      background:#3d4b63;
      color:#fff;
      border:none;
      border-radius:10px;
      padding:10px 18px;
      cursor:pointer;
      font-size:14px;
    }
    .modal {
      display:none;
      position:fixed;
      inset:0;
      background:rgba(0,0,0,.4);
      justify-content:center;
      align-items:center;
      z-index:999;
    }
    .modal-content {
      background:#fff;
      border-radius:16px;
      padding:24px;
      width:900px;
      max-height:90vh;
      overflow:auto;
    }
    .grid {
      display:grid;
      grid-template-columns:repeat(4,1fr);
      gap:14px;
    }
    label { font-size:12px; color:#444; }
    input, select {
      width:100%;
      padding:8px;
      border-radius:8px;
      border:1px solid #ddd;
    }
    .row { grid-column:span 4; }
    .certs { display:flex; gap:18px; flex-wrap:wrap; }
  </style>
</head>
<body>

<!-- MENU LATERAL (o seu atual) -->
<div class="layout">
  <aside class="sidebar">
    <h2>Portal MVP</h2>
    <nav>
      <a href="index.html">ğŸ  InÃ­cio</a>
      <a href="equipe.html" class="active">ğŸ‘¥ Equipe</a>
      <a href="solicitacoes.html">ğŸ“‹ SolicitaÃ§Ãµes</a>
      <a href="escala.html">ğŸ“† Escala</a>
      <a href="disponibilidade.html">ğŸ—“ï¸ Disponibilidade</a>
      <a href="materias.html">ğŸ“¦ Materiais</a>
      <a href="financeiro.html">ğŸ’° Financeiro</a>
    </nav>
  </aside>

  <main class="content">

    <!-- HEADER / KPI -->
    <div class="card">
      <div class="header">
        <div style="display:flex;gap:14px;align-items:center;">
          <span style="font-size:28px;">ğŸ‘¥</span>
          <div>
            <h2 style="margin:0;">Lista de Terapeutas</h2>
            <div class="sub" id="kpiAtivas">0 terapeutas ativas</div>
          </div>
        </div>
        <button class="btn" onclick="openForm()">ï¼‹ Nova Terapeuta</button>
      </div>
    </div>

    <!-- TABELA -->
    <div class="card">
      <table>
        <thead>
          <tr>
            <th>Nome</th>
            <th>Folga Semanal</th>
            <th>Dia da Folga</th>
            <th>Data de InÃ­cio</th>
            <th>HorÃ¡rio</th>
            <th>AÃ§Ãµes</th>
          </tr>
        </thead>
        <tbody id="lista"></tbody>
      </table>
    </div>

  </main>
</div>

<!-- MODAL -->
<div class="modal" id="modal">
  <div class="modal-content">
    <h3>Nova Terapeuta</h3>

    <div class="grid">
      <div>
        <label>Nome Completo *</label>
        <input id="nomeCompleto">
      </div>
      <div>
        <label>Nome profissional *</label>
        <input id="nomeProf">
      </div>
      <div>
        <label>Data de Nascimento *</label>
        <input type="date" id="nasc">
      </div>
      <div>
        <label>CPF *</label>
        <input id="cpf">
      </div>

      <div>
        <label>Email *</label>
        <input id="email">
      </div>
      <div>
        <label>Unidade *</label>
        <input id="unidade">
      </div>
      <div>
        <label>Contato *</label>
        <input id="contato">
      </div>
      <div>
        <label>Contato EmergÃªncia</label>
        <input id="contatoEmerg">
      </div>

      <div>
        <label>Folga semanal?</label>
        <select id="folga">
          <option>Sim</option>
          <option>NÃ£o</option>
        </select>
      </div>
      <div>
        <label>Dia da folga</label>
        <select id="diaFolga">
          <option></option>
          <option>Segunda</option><option>TerÃ§a</option><option>Quarta</option>
          <option>Quinta</option><option>Sexta</option><option>SÃ¡bado</option><option>Domingo</option>
        </select>
      </div>

      <div>
        <label>HorÃ¡rio Entrada *</label>
        <input type="time" id="hEntrada">
      </div>
      <div>
        <label>HorÃ¡rio SaÃ­da *</label>
        <input type="time" id="hSaida">
      </div>

      <div>
        <label>Data de InÃ­cio *</label>
        <input type="date" id="dataInicio">
      </div>
      <div>
        <label>Status</label>
        <select id="status">
          <option>Ativo</option>
          <option>Inativo</option>
        </select>
      </div>

      <div class="row">
        <label>CertificaÃ§Ãµes</label>
        <div class="certs">
          <label><input type="checkbox" id="c1"> Massagem Nuru</label>
          <label><input type="checkbox" id="c2"> VivÃªncia</label>
          <label><input type="checkbox" id="c3"> Podolatria</label>
          <label><input type="checkbox" id="c4"> Casais</label>
          <label><input type="checkbox" id="c5"> Feminina</label>
        </div>
      </div>
    </div>

    <div style="margin-top:20px;">
      <button class="btn" onclick="save()">Salvar</button>
      <button class="btn" style="background:#aaa;" onclick="closeForm()">Cancelar</button>
    </div>
  </div>
</div>

<script>
const KEY = "terapeutas";
let editId = null;

function load(){ return JSON.parse(localStorage.getItem(KEY) || "[]"); }
function saveAll(d){ localStorage.setItem(KEY, JSON.stringify(d)); }

function render(){
  const data = load();
  const tbody = document.getElementById("lista");
  tbody.innerHTML = "";

  const ativas = data.filter(t => t.status === "Ativo");
  document.getElementById("kpiAtivas").innerText =
    `${ativas.length} terapeutas ativas`;

  data.forEach(t=>{
    tbody.innerHTML += `
      <tr>
        <td>${t.nomeProf}</td>
        <td>${t.folga==="Sim"?"Sim":"â€”"}</td>
        <td>${t.folga==="Sim"?t.diaFolga||"â€”":"â€”"}</td>
        <td>${t.dataInicio}</td>
        <td>${t.hEntrada}â€“${t.hSaida}</td>
        <td class="actions">
          <button onclick="del('${t.id}')">ğŸ—‘ï¸</button>
        </td>
      </tr>`;
  });
}

function openForm(){ document.getElementById("modal").style.display="flex"; }
function closeForm(){ document.getElementById("modal").style.display="none"; }

function save(){
  const data = load();
  data.push({
    id: crypto.randomUUID(),
    nomeProf: nomeProf.value,
    folga: folga.value,
    diaFolga: diaFolga.value,
    dataInicio: dataInicio.value,
    hEntrada: hEntrada.value,
    hSaida: hSaida.value,
    status: status.value
  });
  saveAll(data);
  closeForm();
  render();
}

function del(id){
  saveAll(load().filter(t=>t.id!==id));
  render();
}

render();
</script>
</body>
</html>
