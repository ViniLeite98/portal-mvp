<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>Gest√£o da Equipe</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

<style>
body{margin:0;font-family:Arial;background:#f5f7fb}
.sidebar{width:230px;background:#1f2937;color:#fff;height:100vh;position:fixed;padding:20px}
.sidebar a{display:flex;gap:10px;color:#cbd5e1;text-decoration:none;padding:10px;border-radius:10px;margin-bottom:6px}
.sidebar a.active,.sidebar a:hover{background:#374151;color:#fff}
.content{margin-left:260px;padding:30px}

.card{background:#fff;border-radius:18px;padding:20px;box-shadow:0 0 8px rgba(0,0,0,.05)}
table{width:100%;border-collapse:collapse;margin-top:10px}
th,td{padding:10px;border-bottom:1px solid #e5e7eb;font-size:14px}
th{background:#f3f4f6;text-align:left}
tr:hover{background:#f9fafb}

button{padding:6px 10px;border-radius:8px;border:none;cursor:pointer}
.btn-primary{background:#1f2937;color:#fff}
.btn-danger{background:#ef4444;color:#fff}
.btn-secondary{background:#6b7280;color:#fff}

.form-row{display:grid;grid-template-columns:1fr 1fr;gap:10px;margin-bottom:10px}
input,select{padding:8px;border-radius:8px;border:1px solid #d1d5db}
</style>
</head>

<body>

<nav class="sidebar">
  <h2>Hara Spa</h2>
  <a href="index.html"><i class="fa-solid fa-house"></i>In√≠cio</a>
  <a href="equipe.html" class="active"><i class="fa-solid fa-users"></i>Gest√£o da Equipe</a>
  <a href="solicitacoes.html"><i class="fa-solid fa-calendar-xmark"></i>Solicita√ß√µes</a>
  <a href="escalas.html"><i class="fa-solid fa-calendar-days"></i>Escalas</a>
  <a href="materiais.html"><i class="fa-solid fa-box-open"></i>Materiais</a>
  <a href="financeiro.html"><i class="fa-solid fa-coins"></i>Financeiro</a>
</nav>

<div class="content">
  <h1>Gest√£o da Equipe</h1>

  <div class="card">
    <h3>Nova Terapeuta</h3>

    <div class="form-row">
      <input id="nomeProf" placeholder="Nome profissional">
      <input id="nomeComp" placeholder="Nome completo">
      <input id="entrada" placeholder="Hora entrada (ex: 09:00)">
      <input id="saida" placeholder="Hora sa√≠da (ex: 18:00)">
    </div>

    <div class="form-row">
      <select id="status">
        <option value="Ativo">Ativo</option>
        <option value="Inativo">Inativo</option>
      </select>
      <button class="btn-primary" onclick="salvar()">Salvar</button>
    </div>
  </div>

  <br>

  <div class="card">
    <h3>Equipe</h3>
    <table>
      <thead>
        <tr>
          <th>Nome Profissional</th>
          <th>Hor√°rio</th>
          <th>Status</th>
          <th>A√ß√µes</th>
        </tr>
      </thead>
      <tbody id="lista"></tbody>
    </table>
  </div>
</div>

<script>
let terapeutas = JSON.parse(localStorage.getItem("terapeutas")) || [];
let editId = null;

function salvar() {
  const t = {
    id: editId ?? Date.now(),
    nomeProfissional: nomeProf.value,
    nomeCompleto: nomeComp.value,
    horaEntrada: entrada.value,
    horaSaida: saida.value,
    status: status.value
  };

  if (!t.nomeProfissional) return alert("Nome profissional obrigat√≥rio");

  if (editId) {
    terapeutas = terapeutas.map(x => x.id === editId ? t : x);
    editId = null;
  } else {
    terapeutas.push(t);
  }

  localStorage.setItem("terapeutas", JSON.stringify(terapeutas));
  limpar();
  render();
}

function editar(id) {
  const t = terapeutas.find(x => x.id === id);
  nomeProf.value = t.nomeProfissional;
  nomeComp.value = t.nomeCompleto;
  entrada.value = t.horaEntrada;
  saida.value = t.horaSaida;
  status.value = t.status;
  editId = id;
}

function excluir(id) {
  if (!confirm("Excluir terapeuta?")) return;
  terapeutas = terapeutas.filter(x => x.id !== id);
  localStorage.setItem("terapeutas", JSON.stringify(terapeutas));
  render();
}

function limpar() {
  nomeProf.value = nomeComp.value = entrada.value = saida.value = "";
}

function render() {
  lista.innerHTML = "";
  terapeutas.forEach(t => {
    lista.innerHTML += `
      <tr>
        <td>${t.nomeProfissional}</td>
        <td>${t.horaEntrada || "-"} ‚Üí ${t.horaSaida || "-"}</td>
        <td>${t.status}</td>
        <td>
          <button class="btn-secondary" onclick="editar(${t.id})">‚úèÔ∏è</button>
          <button class="btn-danger" onclick="excluir(${t.id})">üóëÔ∏è</button>
        </td>
      </tr>`;
  });
}

render();
</script>

</body>
</html>
