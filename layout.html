function initLayout(active){
  const header = document.getElementById("app-header");
  const menu = document.getElementById("app-menu");

  header.innerHTML = `
    <div class="wrap">
      <div class="top">
        <div class="brand">
          <div class="logo"></div>
          <div>
            <h1>Portal MVP</h1>
            <div class="muted">${document.title.replace("Portal MVP • ","")}</div>
          </div>
        </div>
        <div class="kpi">
          <span class="pill">Total: <strong id="kpiTotal">0</strong></span>
          <span class="pill">Abertas: <strong id="kpiOpen">0</strong></span>
          <span class="pill">Aprovadas: <strong id="kpiApproved">0</strong></span>
          <span class="pill">Ativas: <strong id="kpiTherapistsActive">0</strong></span>
        </div>
      </div>
    </div>
  `;

  menu.className = "card";
  menu.innerHTML = `
    <div class="hd"><div class="muted">Navegação</div></div>
    <div class="bd nav">
      ${menuLink("Início","index.html",active)}
      ${menuLink("Solicitações","solicitacoes.html",active)}
      ${menuLink("Equipe","equipe.html",active)}
      ${menuLink("Terapeutas","terapeutas.html",active)}
      ${menuLink("Materiais","materiais.html",active)}
      ${menuLink("Governança","governanca.html",active)}
    </div>
    <div class="ft">
      <button class="btn danger small" id="btnReset">Zerar dados</button>
      <span class="note">Somente local</span>
    </div>
  `;

  App.renderKpis?.();
  App.renderTherapistsKpis?.();
  App.wireResetButton?.();
}

function menuLink(label, href, active){
  const cls = active === href ? "btn primary" : "btn";
  return `<a class="${cls}" href="./${href}">${label}</a>`;
}
