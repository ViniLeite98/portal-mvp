<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>Novo Cliente</title>

<link rel="stylesheet" href="assets/css/style.css">
<link rel="stylesheet" href="assets/sidebar/sidebar.css">

<style>
.content {
  padding: 30px;
}

.card {
  max-width: 700px;
  background: #fff;
  border-radius: 12px;
  padding: 30px;
  box-shadow: 0 4px 12px rgba(0,0,0,.05);
}

input, textarea {
  width: 100%;
  border: none;
  border-bottom: 1px solid #d1d5db;
  padding: 8px 4px;
  margin-bottom: 20px;
}

.row {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 20px;
}

.actions {
  display: flex;
  justify-content: flex-end;
  margin-top: 20px;
}

button {
  background: #7c3aed;
  color: #fff;
  border: none;
  padding: 10px 18px;
  border-radius: 8px;
}
</style>
</head>

<body>

<div class="app">
  <aside id="sidebar"></aside>

  <main class="content">
    <a href="clientes.html">← Voltar</a>

    <div class="card">
      <h2>Criando Cliente</h2>

      <input id="nome" placeholder="Nome">

      <div class="row">
        <input id="tel1" placeholder="Telefone 1">
        <input id="tel2" placeholder="Telefone 2">
      </div>

      <div class="row">
        <input id="nascimento" type="date">
        <div>
          <label><input type="radio" name="doc" checked> CPF</label>
          <label style="margin-left:10px"><input type="radio" name="doc"> CNPJ</label>
        </div>
      </div>

      <input placeholder="Telefone Internacional">
      <input placeholder="Email">
      <input id="endereco" placeholder="Endereço">
      <textarea id="obs" placeholder="Observação / Referência"></textarea>

      <div class="actions">
        <button onclick="salvar()">SALVAR</button>
      </div>
    </div>
  </main>
</div>

<script src="assets/sidebar/sidebar.js"></script>

<script>
let clientes = JSON.parse(localStorage.getItem("clientes") || "[]");
const edit = localStorage.getItem("clienteEdit");

if (edit !== null) {
  const c = clientes[edit];
  nome.value = c.nome;
  tel1.value = c.tel1;
  tel2.value = c.tel2;
  nascimento.value = c.nascimento;
  endereco.value = c.endereco;
  obs.value = c.obs;
}

function salvar() {
  const cliente = {
    nome: nome.value,
    tel1: tel1.value,
    tel2: tel2.value,
    nascimento: nascimento.value,
    endereco: endereco.value,
    obs: obs.value
  };

  if (!cliente.nome) return alert("Nome obrigatório");

  if (edit !== null) clientes[edit] = cliente;
  else clientes.push(cliente);

  localStorage.setItem("clientes", JSON.stringify(clientes));
  location.href = "clientes.html";
}
</script>

</body>
</html>
